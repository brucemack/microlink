Version 4
SHEET 1 1432 680
WIRE -576 -208 -672 -208
WIRE -512 -208 -576 -208
WIRE -384 -208 -432 -208
WIRE -304 -208 -384 -208
WIRE -80 -208 -304 -208
WIRE 192 -208 -80 -208
WIRE 240 -208 192 -208
WIRE 304 -208 240 -208
WIRE 816 -208 304 -208
WIRE 880 -208 816 -208
WIRE 960 -208 880 -208
WIRE 304 -160 304 -208
WIRE 960 -144 960 -208
WIRE -672 -128 -672 -208
WIRE 224 -32 112 -32
WIRE 336 -32 304 -32
WIRE 560 -32 512 -32
WIRE 752 -32 624 -32
WIRE 896 -32 752 -32
WIRE -304 16 -304 -208
WIRE -80 16 -80 -208
WIRE 112 32 112 -32
WIRE 224 32 112 32
WIRE 336 32 336 -32
WIRE 336 32 288 32
WIRE 816 64 816 -208
WIRE 192 80 192 -208
WIRE 752 80 752 -32
WIRE 784 80 752 80
WIRE 112 96 112 32
WIRE 160 96 112 96
WIRE 896 96 896 -32
WIRE 896 96 848 96
WIRE 1152 96 896 96
WIRE 336 112 336 32
WIRE 336 112 224 112
WIRE 384 112 336 112
WIRE 512 112 512 -32
WIRE 512 112 464 112
WIRE 560 112 512 112
WIRE 704 112 640 112
WIRE 784 112 704 112
WIRE -368 128 -464 128
WIRE -304 128 -304 96
WIRE -304 128 -368 128
WIRE -224 128 -304 128
WIRE -80 128 -80 96
WIRE -80 128 -160 128
WIRE 32 128 -80 128
WIRE 160 128 32 128
WIRE -80 176 -80 128
WIRE 32 176 32 128
WIRE 1152 176 1152 96
WIRE -464 208 -464 128
WIRE 112 208 112 96
WIRE 704 224 704 112
WIRE 112 320 112 288
FLAG -80 256 0
FLAG 32 240 0
FLAG 192 144 0
FLAG 112 384 0
FLAG 1152 256 0
FLAG 704 288 0
FLAG 816 128 0
FLAG 304 -96 0
FLAG 960 -80 0
FLAG -672 -48 0
FLAG -368 128 Vmic
FLAG 1152 96 Vadc
FLAG -464 288 0
FLAG 880 -144 0
FLAG 240 -144 0
FLAG -576 -144 0
FLAG -384 -144 0
SYMBOL OpAmps\\UniversalOpAmp 192 112 R0
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpAmp 816 96 R0
SYMATTR InstName U2
SYMBOL res -320 0 R0
SYMATTR InstName R1
SYMATTR Value 2.2k
SYMBOL res -96 0 R0
SYMATTR InstName R2
SYMATTR Value 270k
SYMBOL res -96 160 R0
SYMATTR InstName R3
SYMATTR Value 270k
SYMBOL cap 16 176 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 96 192 R0
SYMATTR InstName R4
SYMATTR Value 2.2k
SYMBOL res 320 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -25 112 VTop 2
SYMATTR InstName R5
SYMATTR Value 170k
SYMBOL res 480 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 2.2k
SYMBOL res 656 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 3.9k
SYMBOL cap 688 224 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL cap 624 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 22n
SYMBOL res 1136 160 R0
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL polcap 944 -144 R0
SYMATTR InstName C6
SYMATTR Value 470µ
SYMBOL polcap 288 -160 R0
SYMATTR InstName C7
SYMATTR Value 470µ
SYMBOL polcap 96 320 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMBOL voltage -672 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage -464 192 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=2k
SYMATTR InstName V2
SYMATTR Value SINE(0 5m 1000)
SYMBOL cap 288 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -29 84 VTop 2
SYMATTR InstName C9
SYMATTR Value 220p
SYMBOL cap 864 -208 R0
SYMATTR InstName C10
SYMATTR Value 0.1µ
SYMBOL cap 224 -208 R0
SYMATTR InstName C11
SYMATTR Value 0.1µ
SYMBOL polcap -400 -208 R0
SYMATTR InstName C8
SYMATTR Value 47µ
SYMBOL polcap -592 -208 R0
SYMATTR InstName C12
SYMATTR Value 47µ
SYMBOL ind -416 -224 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 470µ
SYMBOL polcap -224 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 1µ
TEXT -616 384 Left 2 ;Electret Capsule Microphone
TEXT -664 40 Left 2 ;Bias resistor for microphone\n(Measured bias voltage at mic\n2.8V)
TEXT 144 440 Center 2 ;First stage adds 1.6V offset and provides\nx75 voltage gain for microphone.\nOne pole of LPF at fc=4kHz
TEXT 664 376 Center 2 ;Second stage is a LPF for anti-aliasing.\nTwo poles, fc = 4 kHz
TEXT 1200 320 Center 2 ;ADC on RP2040 has input impedance \nof 100k, per datasheet.\n \nGoal is to have 3.3Vpp centered at 1.6V\nto get full range of ADC.
TEXT -616 624 Left 2 ;;tran 50m
TEXT -624 656 Left 2 !.ac oct 100 10 20k
TEXT 192 184 Left 2 ;LMV321
TEXT 816 184 Left 2 ;LMV321
TEXT -616 592 Left 2 ;.STEP param X list 300n 700n 1u 10u
TEXT -712 -384 Left 2 ;MicroLink Microphone Pre-Amp\n12-Feb-2024\nBruce MacKinnon KC1FSZ\nWith improvements from Dan Brown W1DAN
RECTANGLE Normal 928 336 368 -64 2
